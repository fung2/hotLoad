webpackJsonp([1,10],{58:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAolBMVEUAAAAptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ntf4ptf4ptf4ptf4ptf4ptf4ptf4mtP4ntf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ntP4ptf4ptf4ntP4ptf4ptf4ptf4ptf4csP4ptf4ptf78tb/dAAAANXRSTlMABOL1+TYJ5pntGI8NrTLeTNCRjHg8I/DVwLeyo4dbUkZALynYysa9qG9kH4JfVxJzfWuikwfqHK8AAAMASURBVFjDnVfpYoIwDOYSxAGKiCCiXN7z3nj/V1vTqgWlrCW/aGi+5vgSivSU6XLx87M4f0vd5PtXKbEMvUsX+96qfEksi9tnRklFS4TtRyYYut7pMFYgCtEgzgHY/2IzX0OPX4L2GtgfH6sFelYzEXt9CPaT5/ISotVGF0kAHHmvrQGPX8DnflURI4VZ8APYaP+yximoxJyfDFu0Pa1pDhDEiRtgg6jj1zRyhAAU7qZYoxz26irHhLwIeKD6b7obBDHiBJihvdk7N1ykXA34AKKmwzIVafd8ADtaxoocoZR8AONG4iVIO+Pjwr4p46chfx1Gn2flNh4snD1ZoG429CqPrmYJMuZks26gwyq9Y+2wuXnj7oaoXoY+to9ysX6O6+NAOUiCEyXIq7RwC0lErDUpGc1IJonJHYaa80AL0LPoWNdDOoLkFR4mgrIE2pxpEYyeqAtbyDzpXkftgtDTaCknZReERWWOfmEmCCJYLhxbkDx6XXzwIfSNRRaeuA8QOqWT/NXBBxnPgKvUPQ+DEAiZPOCaEQa+o7fUMoAx4Nd8cGpOHk1NU7yi/aah5I/dY+oDxQQx2L1+hffh9MMHikgkZn1ySOTu9N0HimcOMULosxBieL1+fpgJAt5s9QmavscTV73KjLayMULNB9PLevs1PA3Bm3xTguwGDIQ5iYL6AKKVlXxYJJmrtBnhEuG3jkT74iFh/pofBg5j0haFkT0/ciExD/oVn/MZ1s2/mztzhw2WT/Yd4s16PnHqe4hnw1FzLci3ZUIVDSlPFJyco96IsMAI/db76hSSxbxX71V4uZ229u8NNmmMt4mJY0ylNkkhDGZvupRxrZdU9nywKeNa5mDQEuNRYzMOxAI2REx7yjjWVQNXO2GbU8ZtHdbtrLT/+14QRpj7TydSKKL7/202ISMk6ulvPAK96fD805JLl7qJJ6PCkmVM7UGCB8RZ4pKD8fonDcLZ3J5vVypeHiVOKeyySWyBf+TDVvm0H0giMk3v/ZmiaiQU1fXSx/l/GdeYsY4o9NUAAAAASUVORK5CYII="},59:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAw1BMVEUAAAAptf4ptf4ptf4ptf4ptf4ptf4ptf4otf4ptf4ptf4ptf4ptf4otf4qtf4ptf4ptf4otf4ptf4qtf4ptf4otf4ptf4ptf4otf4ntP4ntf4ptf4ptf4otf4otf4ptf4ntf4ntf4otf4ptf4ptf4otf4qtv4ptf4ptf4ptf4ptf4otf4ntP4ptf4otf4ptf4ptf4otf4otf4ptf4mtP4ntP4ptf4ntf4otf4mtP4ptf4ptf4ptf4ptf4csP4ptf4ptf78HdoBAAAAQHRSTlMA/PcHA8rz7zksDM89NTHd1p92UEYm6eSbcmER+qlbV0GSiGtmGxjBvbGoelPaxbm2rKWXjCEfFQ5+CqJM352BJrTYagAAAwFJREFUWMO1led6qkAQhgfECiIKiFiwo2DX2BJzsvd/VWdLFBMV2D3Pef/IKLM77Rvhv6Gcyt7srdrZbBsD17TfgQvf+prkJRQhO5thIZP2bq1hoCfIyy8bkil5Swm9Qq5qkEA3e3t5EfRrI6/bHM5203r7+m2oQwzFADGMqre/S1kp6W7gIEruqwWvGNYRoR2aR3jEHn1Hly3AU1pVdkOj+LK85oS9MoQnHNiPQRliyHgLRBg8CVBFmPowcUQaiND4PRR7g2anQzLNPMLslJ/50/psjpAGrfKQhdJBmG3agS/ScJsQUaP+GUiL/UnqFZVbz2F72YL09EgdJtcblSm2HBt4aCKMCwyPGF3gY0suPTD9kQkIgZODc+vEHD/ldeDFJXWkdVuTsQBuSmQahqSpWOpSEfipfTfijD9XIIBdx7osg7LCB4xAAGVNc9h/shIK5rCFnoRFWAIRNOxq0JHqgBAnPM8ynH8os9DvzMYA6WxFxf2DPusmw5WwVSlDSptUEf7cKbsgI4L6ntLu/D7gDTF6Ke2QHRCNQRUxuintDX6mp9aixhKkYpId7REJ3DspHSqI8AHp7Aw221TM61uXsni8qy1IZ49lPMS0ssbxplFrTpuUyr6QfxI4GjiOHvDDmtJnzTyDAKUsbQgVg5ER0RJO3tkD+GTFm8BPg8mQPaz4Q7Bz2M+6htI2hQJQ2b0BeTwBHz05ElG5TXcCFycVRZuM7oQ612ZXSAKSBQw6TLki7z5F/cjW1EUNOGhKJIEjRLTGwMFIJjnrIEjmjDC5Cwjib+lS8UCQ+YL457sghh5KxN+xYmdE27/S347t9Ulsy7WsVKlapYfR8UerNnVvD+LGXnFziOB8jHp2S2Fl9/XLbJpDjKkGMYxDFOGok/VmE6yWRh5dUb1Y4VsLFIe86sa6K2dao7pn7Rzp0Ts7K0As9prlSEpcKrvhcvEduVQ3po2RnbS0zE9EGNzqnxnrvYs5Ny2t6EMyOr2uYoIoJvEP9iDMeInyNQX+Ad8UEvhf1M3G/9TUYIYAAAAASUVORK5CYII="},214:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(90),r=s(o),a=i(63),n=s(a),f=i(1),p=i(2),l=s(p);e.default={components:{List:r.default,Scroll:n.default,Confirm:f.Confirm,Toast:f.Toast,Dialog:f.Dialog,Flexbox:f.Flexbox,FlexboxItem:f.FlexboxItem,XNumber:f.XNumber,Switch:f.Switch},data:function(){return{listType:"",page:"1",list:[],show:!1,orderId:"",title:"",toastShow:!1,role:"",type:"",dialogShow:!1,totalNumber:1,deviceNumber:1,isTranOffer:!1,warningShow:!1,waringTips:0,waringTipsShow:!1}},methods:{onRefresh:function(t){this.page=1,this.getLIstD(t)},onInfinite:function(t){this.page=this.page+1,this.getLIstD(t)},getLIstD:function(t){var e={page:this.page,rows:10,drawerId:this.baseJs.getlocalStorage("userInfo").userName};"builder"==this.role&&(e.builderId=this.baseJs.getlocalStorage("userInfo").userName),"0"==this.$route.params.status&&(e.orderTips="submitted"),"1"==this.$route.params.status&&(e.orderTips="todo"),"2"==this.$route.params.status&&"builder"!=this.role&&(e.orderTips="dealing"),"2"==this.$route.params.status&&"builder"==this.role&&(e.orderTips="done"),"3"==this.$route.params.status&&(e.orderTips="reviewing"),"4"==this.$route.params.status&&(e.orderTips="completing"),this.$http.post(l.default.url+"WXOrderApi/getOrderList.do",e).then(function(e){function i(t,e){for(var i=0;i<t.length;i++)"1"!=t[i].isOvertime||"1"!=t[i].doingOvertimeMsgCount&&"1"!=t[i].poolOvertimeMsgCount||e.waringTips++;e.waringTipsShow=0!=e.waringTips}console.log(e),"builder"==this.role&&this.$dispatch("submittedCount",e.data.attributes.submittedCount.toString()),this.$dispatch("todoCount",e.data.attributes.todoCount.toString()),"builder"==this.role?this.$dispatch("dealOrDoneCount",e.data.attributes.doneCount.toString()):this.$dispatch("dealOrDoneCount",e.data.attributes.dealingCount.toString()),this.$dispatch("reviewingCount",e.data.attributes.reviewingCount.toString()),this.waringTips=0,1==this.page?(this.list=e.data.obj,i(this.list,this),"0"==e.data.obj.length&&(this.scrollTxt="暂无数据")):(this.list=this.list.concat(e.data.obj),i(this.list,this)),t&&t(),e.data.obj.length<9?(this.isScroll=!1,this.scrollTxt="已经是最后一页了！"):e.data.obj.length?(this.isScroll=!0,this.scrollTxt="加载中"):(this.isScroll=!0,this.scrollTxt="加载中...")})},onConfirm:function(){if("accpect"===this.type){var t={orderId:this.orderId,drawerId:this.baseJs.getlocalStorage("userInfo").userName};this.$http.post(l.default.url+"WXOrderApi/acceptOrder.do",t).then(function(t){"ok"==t.data.msg?this.toastShow=!0:"工单数超过限制"==repsonse.data.msg&&(this.warningShow=!0)})}if("backOrder"===this.type){var t={dzhId:this.orderId};this.$http.post(l.default.url+"WXOrderApi/exileOrder.do",t).then(function(t){"ok"==t.data.msg&&(this.toastShow=!0)})}if("finish"===this.type){var t={orderId:this.orderId,sumDeviceTime:this.totalNumber,deviceCount:this.deviceNumber};0==this.isTranOffer?t.isTranOffer="1":t.isTranOffer="0",this.$http.post(l.default.url+"WXOrderApi/completeDraw.do",t).then(function(t){"ok"==t.data.msg&&(this.toastShow=!0)})}if("completeOrder"===this.type){var t={orderId:this.orderId};this.$http.post(l.default.url+"WXOrderApi/completeOrder.do",t).then(function(t){"ok"==t.data.msg&&(this.toastShow=!0)})}if("cancelHang"===this.type){var t={orderId:this.orderId};this.$http.post(l.default.url+"WXOrderApi/cancelHangUp.do",t).then(function(t){"ok"==t.data.msg&&(this.toastShow=!0)})}},getRole:function(){this.role=this.baseJs.getlocalStorage("userInfo").roles},getListType:function(){"1"==this.$route.params.status&&(this.listType="待接单"),"2"==this.$route.params.status&&(this.listType="处理中"),"3"==this.$route.params.status&&(this.listType="审核中"),"4"==this.$route.params.status&&(this.listType="已完成")},onHide:function(){this.onRefresh()}},created:function(){},ready:function(){},watch:{$route:function(){"1"==this.$route.params.status&&(this.listType="待接单"),"2"==this.$route.params.status&&(this.listType="处理中"),"3"==this.$route.params.status&&(this.listType="审核中"),"4"==this.$route.params.status&&(this.listType="已完成"),this.page="1",this.onRefresh()}},events:{accepectOrder:function(t){this.show=!0,this.title="确定要接受这张单吗?",this.orderId=t,this.type="accpect"},backOrder:function(t){this.show=!0,this.title="确定要将这张单摆回工单池吗?",this.orderId=t,this.type="backOrder"},finish:function(t){this.show=!0,this.title="确定要完成这张工单吗?",this.orderId=t,this.type="finish"},completeOrder:function(t){this.show=!0,this.title="确定要完成这张工单吗?",this.orderId=t,this.type="completeOrder"},urge:function(t){this.dialogShow=!0},cancelHang:function(t){this.show=!0,this.title="确定要解挂这张工单吗?",this.orderId=t,this.type="cancelHang"}}}},271:function(t,e,i){e=t.exports=i(6)(),e.push([t.id,".warningDiv{background-color:#2d2d2f;font-size:16px;color:#fff;text-align:center;width:100%;margin-top:.01rem}",""])},322:function(t,e,i){var s=i(271);"string"==typeof s&&(s=[[t.id,s,""]]);i(7)(s,{});s.locals&&(t.exports=s.locals)},455:function(t,e,i){t.exports=" <div style=position:absolute;width:100%;top:46px;bottom:50px;height:auto> <scroll :on-refresh=onRefresh :on-infinite=onInfinite :enable-infinite=isScroll> <div class=warningDiv v-if=\"listType=='处理中'||listType=='审核中'\"> 离线版本需要手动点击完成按钮，完成工单。 </div> <list :list-type=listType :list=list :user-role=role></list> </scroll> <confirm :show.sync=show :title=title @on-confirm=onConfirm confirm-text=确定 cancel-text=取消> <div v-if=\"this.type=='finish'\"> <flexbox> <flexbox-item :span=1/3> 设备总耗时 </flexbox-item> <flexbox-item :span=2/3 class=text_right> <x-number :min=1 :max=100 :value.sync=totalNumber :step=0.5 :width=30></x-number> </flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/3> 迁移设备数 </flexbox-item> <flexbox-item :span=2/3 class=text_right> <x-number :min=1 :max=100 :value.sync=deviceNumber :step=1 :width=30></x-number> </flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/3> 是否转供电 </flexbox-item> <flexbox-item :span=2/3 class=text_right> <switch :value.sync=isTranOffer title=\"\"></switch> </flexbox-item> </flexbox> </div> <p style=text-align:center v-else> Are you sure? </p> </confirm> <toast :show.sync=toastShow :time=1000 @on-hide=onHide()>操作成功</toast> <toast :show.sync=waringTipsShow type=warn>有{{waringTips}}张超时工单</toast> <dialog :show.sync=dialogShow class=review_dialog :scroll=false :hide-on-blur=true> <flexbox class=dialogContent> <flexbox-item :span=1/2 class=text_center> <a href=sms:15889949387> <img src="+i(59)+' /> <div class="marginTop8 text_black">短信通知</div> </a> </flexbox-item> <flexbox-item :span=1/2 class=text_center> <a href=tel:15889949387> <img src='+i(58)+' /> <div class="marginTop8 text_black">电话通知</div> </a> </flexbox-item> </flexbox> </dialog> </div> '},531:function(t,e,i){var s,o,r={};i(322),s=i(214),o=i(455),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(r).forEach(function(t){var e=r[t];a.computed[t]=function(){return e}})}});