webpackJsonp([0,10],{58:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAolBMVEUAAAAptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ntf4ptf4ptf4ptf4ptf4ptf4ptf4mtP4ntf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ptf4ntP4ptf4ptf4ntP4ptf4ptf4ptf4ptf4csP4ptf4ptf78tb/dAAAANXRSTlMABOL1+TYJ5pntGI8NrTLeTNCRjHg8I/DVwLeyo4dbUkZALynYysa9qG9kH4JfVxJzfWuikwfqHK8AAAMASURBVFjDnVfpYoIwDOYSxAGKiCCiXN7z3nj/V1vTqgWlrCW/aGi+5vgSivSU6XLx87M4f0vd5PtXKbEMvUsX+96qfEksi9tnRklFS4TtRyYYut7pMFYgCtEgzgHY/2IzX0OPX4L2GtgfH6sFelYzEXt9CPaT5/ISotVGF0kAHHmvrQGPX8DnflURI4VZ8APYaP+yximoxJyfDFu0Pa1pDhDEiRtgg6jj1zRyhAAU7qZYoxz26irHhLwIeKD6b7obBDHiBJihvdk7N1ykXA34AKKmwzIVafd8ADtaxoocoZR8AONG4iVIO+Pjwr4p46chfx1Gn2flNh4snD1ZoG429CqPrmYJMuZks26gwyq9Y+2wuXnj7oaoXoY+to9ysX6O6+NAOUiCEyXIq7RwC0lErDUpGc1IJonJHYaa80AL0LPoWNdDOoLkFR4mgrIE2pxpEYyeqAtbyDzpXkftgtDTaCknZReERWWOfmEmCCJYLhxbkDx6XXzwIfSNRRaeuA8QOqWT/NXBBxnPgKvUPQ+DEAiZPOCaEQa+o7fUMoAx4Nd8cGpOHk1NU7yi/aah5I/dY+oDxQQx2L1+hffh9MMHikgkZn1ySOTu9N0HimcOMULosxBieL1+fpgJAt5s9QmavscTV73KjLayMULNB9PLevs1PA3Bm3xTguwGDIQ5iYL6AKKVlXxYJJmrtBnhEuG3jkT74iFh/pofBg5j0haFkT0/ciExD/oVn/MZ1s2/mztzhw2WT/Yd4s16PnHqe4hnw1FzLci3ZUIVDSlPFJyco96IsMAI/db76hSSxbxX71V4uZ229u8NNmmMt4mJY0ylNkkhDGZvupRxrZdU9nywKeNa5mDQEuNRYzMOxAI2REx7yjjWVQNXO2GbU8ZtHdbtrLT/+14QRpj7TydSKKL7/202ISMk6ulvPAK96fD805JLl7qJJ6PCkmVM7UGCB8RZ4pKD8fonDcLZ3J5vVypeHiVOKeyySWyBf+TDVvm0H0giMk3v/ZmiaiQU1fXSx/l/GdeYsY4o9NUAAAAASUVORK5CYII="},59:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAw1BMVEUAAAAptf4ptf4ptf4ptf4ptf4ptf4ptf4otf4ptf4ptf4ptf4ptf4otf4qtf4ptf4ptf4otf4ptf4qtf4ptf4otf4ptf4ptf4otf4ntP4ntf4ptf4ptf4otf4otf4ptf4ntf4ntf4otf4ptf4ptf4otf4qtv4ptf4ptf4ptf4ptf4otf4ntP4ptf4otf4ptf4ptf4otf4otf4ptf4mtP4ntP4ptf4ntf4otf4mtP4ptf4ptf4ptf4ptf4csP4ptf4ptf78HdoBAAAAQHRSTlMA/PcHA8rz7zksDM89NTHd1p92UEYm6eSbcmER+qlbV0GSiGtmGxjBvbGoelPaxbm2rKWXjCEfFQ5+CqJM352BJrTYagAAAwFJREFUWMO1led6qkAQhgfECiIKiFiwo2DX2BJzsvd/VWdLFBMV2D3Pef/IKLM77Rvhv6Gcyt7srdrZbBsD17TfgQvf+prkJRQhO5thIZP2bq1hoCfIyy8bkil5Swm9Qq5qkEA3e3t5EfRrI6/bHM5203r7+m2oQwzFADGMqre/S1kp6W7gIEruqwWvGNYRoR2aR3jEHn1Hly3AU1pVdkOj+LK85oS9MoQnHNiPQRliyHgLRBg8CVBFmPowcUQaiND4PRR7g2anQzLNPMLslJ/50/psjpAGrfKQhdJBmG3agS/ScJsQUaP+GUiL/UnqFZVbz2F72YL09EgdJtcblSm2HBt4aCKMCwyPGF3gY0suPTD9kQkIgZODc+vEHD/ldeDFJXWkdVuTsQBuSmQahqSpWOpSEfipfTfijD9XIIBdx7osg7LCB4xAAGVNc9h/shIK5rCFnoRFWAIRNOxq0JHqgBAnPM8ynH8os9DvzMYA6WxFxf2DPusmw5WwVSlDSptUEf7cKbsgI4L6ntLu/D7gDTF6Ke2QHRCNQRUxuintDX6mp9aixhKkYpId7REJ3DspHSqI8AHp7Aw221TM61uXsni8qy1IZ49lPMS0ssbxplFrTpuUyr6QfxI4GjiOHvDDmtJnzTyDAKUsbQgVg5ER0RJO3tkD+GTFm8BPg8mQPaz4Q7Bz2M+6htI2hQJQ2b0BeTwBHz05ElG5TXcCFycVRZuM7oQ612ZXSAKSBQw6TLki7z5F/cjW1EUNOGhKJIEjRLTGwMFIJjnrIEjmjDC5Cwjib+lS8UCQ+YL457sghh5KxN+xYmdE27/S347t9Ulsy7WsVKlapYfR8UerNnVvD+LGXnFziOB8jHp2S2Fl9/XLbJpDjKkGMYxDFOGok/VmE6yWRh5dUb1Y4VsLFIe86sa6K2dao7pn7Rzp0Ts7K0As9prlSEpcKrvhcvEduVQ3po2RnbS0zE9EGNzqnxnrvYs5Ny2t6EMyOr2uYoIoJvEP9iDMeInyNQX+Ad8UEvhf1M3G/9TUYIYAAAAASUVORK5CYII="},218:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(2),r=o(a);e.default={components:{Flexbox:s.Flexbox,FlexboxItem:s.FlexboxItem,Timeline:s.Timeline,TimelineItem:s.TimelineItem,XButton:s.XButton,Confirm:s.Confirm,Toast:s.Toast,Dialog:s.Dialog,XNumber:s.XNumber,Alert:s.Alert,Switch:s.Switch},data:function(){return{transType:"",orderName:"",commitTime:"",projectName:"",orderId:"",orderType:"",constructionPhone:"",submitParty:"",buildersName:"",drawerName:"",progress:[],reason:"",title:"",toastContent:"",show:!1,toastShow:!1,type:"",dialogShow:!1,orderCode:"",warningShow:!1,isTranOffer:!1,totalNumber:1,deviceNumber:1,isHangUp:"",hangUpReasonString:"",remark:""}},methods:{getDetial:function(){this.$http.post(r.default.url+"WXOrderApi/getOrderDetail.do",{orderId:this.$route.params.Id}).then(function(t){this.orderName=t.data.obj.orderName,this.commitTime=this.baseJs.changeTime(t.data.obj.startTime),this.projectName=t.data.obj.projectName,this.orderId=t.data.obj.id,this.orderCode=t.data.obj.orderCode,this.constructionPhone=t.data.obj.constructionPhone,this.submitParty=t.data.obj.submitParty,this.buildersName=t.data.obj.buildersName,this.drawerName=t.data.obj.drawerName,this.transType=t.data.attributes.TransferType,this.reason=t.data.attributes.reason,this.orderType=this.baseJs.changeDataByDic("orderTypeMap",t.data.obj.orderType),this.isHangUp=t.data.obj.hangUp,this.hangUpReasonString=t.data.obj.hangUpReason,this.remark=t.data.obj.remark,"1"==t.data.obj.hangUp?this.$dispatch("isHang","1"):this.$dispatch("isHang","0")})},getProcess:function(){this.$http.post(r.default.url+"WXOrderApi/getProcess.do",{dzhId:this.$route.params.Id}).then(function(t){this.progress=t.data.obj})},onConfirm:function(){if("grab"==this.type){var t={orderId:this.orderId,drawerId:this.baseJs.getlocalStorage("userInfo").userName};this.$http.post(r.default.url+"WXOrderApi/grabOrder.do",t).then(function(t){"ok"==t.data.msg?(this.toastContent="抢单成功",this.toastShow=!0):"工单数超过限制"==t.data.msg&&(this.warningShow=!0)})}if("accecpt"==this.type){var t={orderId:this.orderId,drawerId:this.baseJs.getlocalStorage("userInfo").userName};this.$http.post(r.default.url+"WXOrderApi/acceptOrder.do",t).then(function(t){"ok"==t.data.msg&&(this.toastContent="操作成功",this.toastShow=!0)})}if("finish"==this.type){var t={orderId:this.orderId,sumDeviceTime:this.totalNumber},t={orderId:this.orderId,sumDeviceTime:this.totalNumber,deviceCount:this.deviceNumber};0==this.isTranOffer?t.isTranOffer="1":t.isTranOffer="0",this.$http.post(r.default.url+"WXOrderApi/completeDraw.do",t).then(function(t){"ok"==t.data.msg&&(this.toastContent="操作成功",this.toastShow=!0)})}if("completeOrder"==this.type){var t={orderId:this.orderId,drawerId:this.baseJs.getlocalStorage("userInfo").userName};this.$http.post(r.default.url+"WXOrderApi/completeOrder.do",t).then(function(t){"ok"==t.data.msg&&(this.toastContent="操作成功",this.toastShow=!0)})}if("backOrder"==this.type){var t={dzhId:this.orderId};this.$http.post(r.default.url+"WXOrderApi/exileOrder.do",t).then(function(t){"ok"==t.data.msg&&(this.toastContent="操作成功",this.toastShow=!0)})}if("cancelHang"==this.type){var t={orderId:this.orderId};this.$http.post(r.default.url+"WXOrderApi/cancelHangUp.do",t).then(function(t){"ok"==t.data.msg&&(this.toastContent="操作成功",this.toastShow=!0)})}},getUserRole:function(){this.baseJs.getlocalStorage("userInfo")?this.role=this.baseJs.getlocalStorage("userInfo").roles:this.$http.post(r.default.url+"wxCurrentUserApi/getCurrentUser.do").then(function(t){this.role=t.data.obj.roles,this.baseJs.setlocalStorage("userInfo",t.data.obj)}),console.log(this.role)},urge:function(){this.dialogShow=!0},onHide:function(){"grab"===this.type?this.$router.go("/myOrder/2"):this.$router.go("/myOrder/1")}},created:function(){},ready:function(){this.getUserRole(),this.getDetial(),this.getProcess()},events:{grabOrder:function(t){this.title="你确定要抢这张单吗",this.type="grab",this.orderId=t,this.show=!0},accecpt:function(t){this.title="你确定要接受这张单吗",this.type="accecpt",this.orderId=t,this.show=!0},finish:function(t){this.title="你确定要完成这张单吗",this.type="finish",this.orderId=t,this.show=!0},completeOrder:function(t){this.title="你确定要完成这张单吗",this.type="completeOrder",this.orderId=t,this.show=!0},backOrder:function(t){this.show=!0,this.title="确定要将这张单摆回工单池吗?",this.type="backOrder",this.orderId=t,this.show=!0},urge:function(t){this.dialogShow=!0},cancelHang:function(t){this.title="你确定要解挂这张单吗",this.type="cancelHang",this.orderId=t,this.show=!0}}}},275:function(t,e,i){e=t.exports=i(6)(),e.push([t.id,".block{display:block}.block p{font-size:18px;font-weight:600}.card-content-label{margin-left:7px;padding-top:8px;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.label{color:#6d6d72}.rightText{color:#000}.reason{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;padding-top:8px;padding-bottom:8px}.white .padding4{padding:4px}.vux-timeline-item-content{padding:0 0 .4rem .5rem}.recent{color:#28b5fd}.vux-timeline-item-color,.vux-timeline-item-tail{background-color:#28b5fd}.timeline{padding:8px 4px}.autoHeight{height:auto}.autoWidth{width:auto}.paddingLeft7{padding-left:7px}",""])},326:function(t,e,i){var o=i(275);"string"==typeof o&&(o=[[t.id,o,""]]);i(7)(o,{});o.locals&&(t.exports=o.locals)},459:function(t,e,i){t.exports=' <div> <div class=padding8> <div class="card padding4"> <div class="card-header block paddingBottom8 autoHeight"> <span class="medal blue text_white" v-if="transType==\'zhuanpai\'"> 转派 </span> <span class="medal green text_white" v-if="transType==\'zhipai\'"> 指派 </span> <span class="medal red text_white" v-if="transType==\'huitui\'"> 拒绝 </span> <p class=header>{{orderName}}</p> <div class="text_grey paddingTop2">提交时间:{{commitTime}}</div> <div class="text_grey paddingTop2">工单编号:{{orderCode}}</div> </div> <div class="card-content white"> <flexbox class="card-content-label autoWidth"> <flexbox-item :span=1/5 class="fontSize14 label">项目名称</flexbox-item> <flexbox-item class=fontSize14>{{projectName}}</flexbox-item> </flexbox> <flexbox class="card-content-label paddingBottom8"> <flexbox-item :span=1/5 class="fontSize14 label">工单类型</flexbox-item> <flexbox-item class=fontSize14>{{orderType}}</flexbox-item> </flexbox> </div> <div class="card-footer block autoHeight paddingLeft7"> <flexbox> <flexbox-item :span=1/5 class="paddingTop2 fontSize14">所属区局</flexbox-item> <flexbox-item class="paddingTop2 fontSize14 rightText">{{submitParty}}</flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/5 class="paddingTop2 fontSize14">填报人员</flexbox-item> <flexbox-item class="paddingTop2 fontSize14 rightText">{{drawerName}}</flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/5 class="paddingTop2 fontSize14">联系电话</flexbox-item> <flexbox-item class="paddingTop2 fontSize14 rightText">{{constructionPhone}}</flexbox-item> </flexbox> </div> </div> <div v-if=\'transType=="zhuanpai"\' class=card style="margin-top: 12px"> <div class="card-content white"> <flexbox class=reason> <flexbox-item :span=1/5 class="fontSize14 label paddingLeft4" style="border-left: 2px solid #28b5fd">转派原因</flexbox-item> <flexbox-item class=fontSize14>{{reason}}</flexbox-item> </flexbox> </div> </div> <div v-if=\'transType=="zhipai"\' class=card style="margin-top: 12px"> <div class="card-content white"> <flexbox class=reason> <flexbox-item :span=1/5 class="fontSize14 label paddingLeft4" style="border-left: 2px solid #89d043">指派原因</flexbox-item> <flexbox-item class=fontSize14>{{reason}}</flexbox-item> </flexbox> </div> </div> <div v-if=\'transType=="huitui"\' class=card style="margin-top: 12px"> <div class="card-content white"> <flexbox class=reason> <flexbox-item :span=1/5 class="fontSize14 label paddingLeft4" style="border-left: 2px solid #ff5d63">拒绝原因</flexbox-item> <flexbox-item class=fontSize14>{{reason}}</flexbox-item> </flexbox> </div> </div> <div v-if="isHangUp == \'1\'" class=card style="margin-top: 12px"> <div class="card-content white"> <flexbox class=reason orient=vertical> <flexbox-item :span=1/5 class="fontSize14 label paddingLeft4">挂起原因：</flexbox-item> <flexbox-item class=fontSize14 style="padding: 0 4px">{{hangUpReasonString}}</flexbox-item> </flexbox> </div> </div> <div v-if="remark !=null" class=card style="margin-top: 12px"> <div class="card-content white"> <flexbox class=reason orient=vertical> <flexbox-item :span=1/5 class="fontSize14 label paddingLeft4">台账补全：</flexbox-item> <flexbox-item class=fontSize14 style="padding: 0 4px">{{remark}}</flexbox-item> </flexbox> </div> </div> <div class="card padding4" v-if=progress.length> <div class="card-header paddingBottom8 block" style="text-align: center"> 工单流程 </div> <div class="card-content white"> <timeline class=timeline> <timeline-item v-for="item in progress"> <x-button mini class=btn_blue style="float: right" v-if=\'item.nodeDescription=="工单审核中"\' @click=urge()>提醒审核</x-button> <h4 class=recent>{{item.nodeDescription}}</h4> <p class=recent>{{this.baseJs.changeTime(item.nodeTime,\'1\')}}</p> <p class=recent>{{item.approvalPerson}} {{item.approvalPersonId}}</p> </timeline-item> </timeline> </div> </div> </div> <confirm :show.sync=show :title=title @on-confirm=onConfirm confirm-text=确定 cancel-text=取消> <div v-if="this.type==\'finish\'"> <flexbox> <flexbox-item :span=1/3> 设备总耗时 </flexbox-item> <flexbox-item :span=2/3 class=text_right> <x-number :min=1 :max=100 :value.sync=totalNumber :step=0.5 :width=30></x-number> </flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/3> 迁移设备数 </flexbox-item> <flexbox-item :span=2/3 class=text_right> <x-number :min=1 :max=100 :value.sync=deviceNumber :step=1 :width=30></x-number> </flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/3> 是否转供电 </flexbox-item> <flexbox-item :span=2/3 class=text_right> <switch :value.sync=isTranOffer title=""></switch> </flexbox-item> </flexbox> </div> <p style=text-align:center v-else>Are you sure?</p> </confirm> <toast :show.sync=toastShow :time=1000 @on-hide=onHide()>{{toastContent}}</toast> <alert :show.sync=warningShow title=错误提醒>当前处理中的工单数目已超过限制~</alert> <dialog :show.sync=dialogShow class=review_dialog :scroll=false :hide-on-blur=true> <flexbox class=dialogContent> <flexbox-item :span=1/2 class=text_center> <a href=sms:15889949387> <img src='+i(59)+' /> <div class="marginTop8 text_black">短信通知</div> </a> </flexbox-item> <flexbox-item :span=1/2 class=text_center> <a href=tel:15889949387> <img src='+i(58)+' /> <div class="marginTop8 text_black">电话通知</div> </a> </flexbox-item> </flexbox> </dialog> </div> '},535:function(t,e,i){var o,s,a={};i(326),o=i(218),s=i(459),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(t){var e=a[t];r.computed[t]=function(){return e}})}});