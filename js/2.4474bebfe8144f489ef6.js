webpackJsonp([2,10],{211:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=o(2),c=r(a);t.default={components:{Rater:i.Rater,XTextarea:i.XTextarea,XButton:i.XButton,Checker:i.Checker,CheckerItem:i.CheckerItem,FlexboxItem:i.FlexboxItem,Flexbox:i.Flexbox,PopupPicker:i.PopupPicker,Toast:i.Toast},data:function(){return{reason:[],score:3,agreement:"",list2:[["2017年","2018年","2019年","2020年","2021年"],["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]],dateTime:["2017年","5月"],sumdeviceCount:0,clientScore:0,time:0,drawereName:"",drawerId:"",toastShow:!1,toastText:"",toastType:"",role:""}},methods:{getClientScore:function(){var e={drawerId:this.$route.params.Id};this.dateTime.length&&(e.searchTime=this.dateTime[0].split("年")[0]+"-"+this.dateTime[1].split("月")[0]),this.$http.post(c.default.url+"WXOrderApi/getQualityandclientscore.do",e).then(function(e){this.sumdeviceCount=e.data.obj[0].sumdevicecount,this.clientScore=e.data.obj[0].clientscore,this.time=e.data.obj[0].time,this.drawereName=e.data.obj[0].drawername,this.drawerId=e.data.obj[0].drawerid})},submitJudge:function(){var e={agreement:this.agreement,drawerId:this.$route.params.Id};"businessManager"==this.role?e.clientScore=2*this.score:e.qualityScore=2*this.score,this.$http.post(c.default.url+"WXOrderApi/doEvaluate.do",e).then(function(e){"ok"==e.data.msg?(this.toastText="评价成功",this.toastType="",this.toastShow=!0):(this.toastText="评价失败",this.toastType="warn",this.toastShow=!0)})},onHide:function(){this.$router.go("/order/transformPerson/:orderId/judge")},getRole:function(){this.baseJs.getlocalStorage("userInfo")?this.role=this.baseJs.getlocalStorage("userInfo").roles:this.$http.post(c.default.url+"wxCurrentUserApi/getCurrentUser.do").then(function(e){this.role=e.data.obj.roles,this.baseJs.setlocalStorage("userInfo",e.data.obj)})}},created:function(){this.getRole(),this.getClientScore()},watch:{reason:function(){this.agreement="";for(var e=0;e<this.reason.length;e++)this.agreement+=this.reason[e]+","},dateTime:function(){this.getClientScore()}}}},269:function(e,t,o){t=e.exports=o(6)(),t.push([e.id,".card .card-header img{width:16px;height:16px;vertical-align:text-bottom;padding-right:.16rem}.card .card-header .vux-rater{position:absolute;top:6px;right:0}.card .card-header .weui_cell{width:100%}.btn_judge{background-color:#ff6704;color:#fff}.demo5-item{padding:.16rem .08rem;border-radius:8px;border:1px solid #ccc;margin:0 .2rem .2rem 0;color:#a4a4a4}.demo5-item-selected{background:url("+o(21)+") no-repeat 100% 100%/.22rem;border-color:#519cf9}.checker{margin-top:.16rem;padding-left:.12rem}.padding{padding:8px 24px}",""])},319:function(e,t,o){var r=o(269);"string"==typeof r&&(r=[[e.id,r,""]]);o(7)(r,{});r.locals&&(e.exports=r.locals)},372:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAASUkqAAgAAAAEABoBBQABAAAAPgAAABsBBQABAAAARgAAACgBAwABAAAAAgAAADEBAgASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABAAAAUGFpbnQuTkVUIHYzLjUuMTAA/9sAQwAGBAUGBQQGBgUGBwcGCAoQCgoJCQoUDg8MEBcUGBgXFBYWGh0lHxobIxwWFiAsICMmJykqKRkfLTAtKDAlKCko/9sAQwEHBwcKCAoTCgoTKBoWGigoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo/8AAEQgAJAAkAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+pLu4itbWa4ncJFEhd2JwAAMk15dd/EK9vJP9ASO3gbIQkBnYepz09cV0fxemmg+H+pNA20sYkY/7LSKCPxBI/GvFPA8dxq+t/2TbkqzAPvC8RjuT+lAHbx+OtXstSNss/2hWUMTOA2PptxxXpHhfXU1uz3MgiuV+/HnP4j2rz3xJ4Tt9JC3vmySMV8tnwAAfWrXw8kb/hIIAxAQwSIDyCT8pAPr3/KgD1HAopaKAOW+Kelzax4KvYLQO06FJlVf4trAkY78ZwPXFYng3Rm0OC2fT58W9wqb0eFNxzjOWwGz7Hjius1XxDbWReOJWuJ1JDLGQNh9zXGaDq1xLK1s8bI8cxkiLtvLqTnqAckemKAOtXSJri6mXUrua5t2+UQMFEZH0UD26+h9a870yKTTvGX2eOfCWt4QBu3MsQPAOf8AZIGfQ16YLxlRZpQoJQkqVYNx3wQDj8K8f0K11Aarf6hq4VL2a5+0YjbIXLMcZ7joPpQB7TBqltNGHBYA9iKK87a8eDCIzbcZGDRQBaaMGQKScEnPNNvNMt2QuA6sD1VsdBxRRQBFbySx2L4lc/Kc5749aryKBPOo6Kigfh0oooAS15gXPOOKKKKAP//Z"},452:function(e,t,o){e.exports=' <div> <div class=card> <div class=card-header> <div class=text_grey style="margin-top: 4px"> <img src='+o(372)+' /> {{drawereName}} <rater :value.sync=score slot=value star=✩ active-color=#FF9900 :margin=4></rater> </div> </div> <div class="card-content white"> <x-textarea :max=50 placeholder=请填写评价意见或者备注吧! :value.sync=agreement></x-textarea> </div> <div class=card-footer style="text-align: right;display: block"> <x-button mini class=btn_judge @click=submitJudge>评价</x-button> </div> </div> <checker :value.sync=reason default-item-class=demo5-item selected-item-class=demo5-item-selected class="checker marginTop8" type=checkbox> <checker-item value=处理速度太慢 v-if="score<=2">处理速度太慢</checker-item> <checker-item value=绘图效果不理想 v-if="score<=2">绘图效果不理想</checker-item> <checker-item value=响应速度慢 v-if="score<=2">响应速度慢</checker-item> <checker-item value=该绘图人员态度不积极 v-if="score<=2">该绘图人员态度不积极</checker-item> <checker-item value=处理速度一般 v-if="score==3">处理速度一般</checker-item> <checker-item value=绘图效果一般 v-if="score==3">绘图效果一般</checker-item> <checker-item value=响应速度一般 v-if="score==3">响应速度一般</checker-item> <checker-item value=该绘图人员态度一般 v-if="score==3">该绘图人员态度一般</checker-item> <checker-item value=处理速度较快 v-if="score>3">处理速度较快</checker-item> <checker-item value=绘图效果较快 v-if="score>3">绘图效果较快</checker-item> <checker-item value=响应速度较快 v-if="score>3">响应速度较快</checker-item> <checker-item value=该绘图人员态度较好 v-if="score>3">该绘图人员态度较好</checker-item> </checker> <div class=card> <div class=card-header> <popup-picker title=人员评价 :data=list2 :value.sync=dateTime></popup-picker> </div> <div class="card-content white padding"> <h4>{{drawereName}}({{drawerId}})</h4> <flexbox> <flexbox-item :span=1/3 class="paddingTop2 fontSize14">迁移设备总数</flexbox-item> <flexbox-item class="paddingTop2 fontSize14 text_right">{{sumdeviceCount}}</flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/3 class="paddingTop2 fontSize14">客户评价</flexbox-item> <flexbox-item class="paddingTop2 fontSize14 text_right">{{clientScore}}</flexbox-item> </flexbox> <flexbox> <flexbox-item :span=1/3 class="paddingTop2 fontSize14">总工时</flexbox-item> <flexbox-item class="paddingTop2 fontSize14 text_right">{{time}}</flexbox-item> </flexbox> </div> </div> <toast :show.sync=toastShow :time=1000 :type=toastType @on-hide=onHide()>{{toastText}}</toast> </div> '},528:function(e,t,o){var r,i,a={};o(319),r=o(211),i=o(452),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(c.template=i),c.computed||(c.computed={}),Object.keys(a).forEach(function(e){var t=a[e];c.computed[e]=function(){return t}})}});